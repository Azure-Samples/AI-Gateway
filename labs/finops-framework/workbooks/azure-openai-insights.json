{
  "version": "Notebook/1.0",
  "items": [
    {
      "type": 1,
      "content": {
        "json": "# Azure OpenAI Insights\r\nUse this workbook to analyze and monitor all your Azure OpenAI resources."
      },
      "name": "text - Title"
    },
    {
      "type": 9,
      "content": {
        "version": "KqlParameterItem/1.0",
        "parameters": [
          {
            "id": "1f74ed9a-e3ed-498d-bd5b-f68f3836a117",
            "version": "KqlParameterItem/1.0",
            "name": "Subscription",
            "label": "Subscriptions",
            "type": 6,
            "description": "All subscriptions with Azure OpenAI Service",
            "isRequired": true,
            "multiSelect": true,
            "quote": "'",
            "delimiter": ",",
            "query": "Resources\r\n| where type =~ \"microsoft.cognitiveservices/accounts\"\r\n| where kind =~ \"OpenAI\"\r\n| summarize Count = count() by subscriptionId\r\n| order by Count desc\r\n| extend Rank = row_number()\r\n| project value = subscriptionId, label = subscriptionId, selected = Rank == 1",
            "crossComponentResources": [
              "value::selected"
            ],
            "typeSettings": {
              "additionalResourceOptions": [
                "value::all"
              ],
              "showDefault": false
            },
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources"
          },
          {
            "id": "e94aafa3-c5d9-4523-89f0-4e87aa754511",
            "version": "KqlParameterItem/1.0",
            "name": "Resources",
            "label": "Azure OpenAI Service",
            "type": 5,
            "isRequired": true,
            "multiSelect": true,
            "quote": "'",
            "delimiter": ",",
            "query": "Resources\r\n| where type =~ \"microsoft.cognitiveservices/accounts\"\r\n| where kind =~ \"OpenAI\"\r\n| order by name asc\r\n| extend Rank = row_number()\r\n| project value = id, label = id, selected = Rank <= 5",
            "crossComponentResources": [
              "{Subscription}"
            ],
            "typeSettings": {
              "additionalResourceOptions": [
                "value::all"
              ],
              "showDefault": false
            },
            "defaultValue": "value::all",
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources"
          },
          {
            "id": "c4b69c01-2263-4ada-8d9c-43433b739ff3",
            "version": "KqlParameterItem/1.0",
            "name": "TimeRange",
            "label": "Time Range",
            "type": 4,
            "isRequired": true,
            "typeSettings": {
              "selectableValues": [
                {
                  "durationMs": 300000
                },
                {
                  "durationMs": 900000
                },
                {
                  "durationMs": 1800000
                },
                {
                  "durationMs": 3600000
                },
                {
                  "durationMs": 14400000
                },
                {
                  "durationMs": 43200000
                },
                {
                  "durationMs": 86400000
                },
                {
                  "durationMs": 172800000
                },
                {
                  "durationMs": 259200000
                },
                {
                  "durationMs": 604800000
                },
                {
                  "durationMs": 1209600000
                },
                {
                  "durationMs": 2419200000
                },
                {
                  "durationMs": 2592000000
                }
              ],
              "allowCustom": true
            },
            "value": {
              "durationMs": 2592000000
            }
          },
          {
            "id": "9b48988f-dcd2-48cc-b233-5999ed32149f",
            "version": "KqlParameterItem/1.0",
            "name": "Message",
            "type": 1,
            "query": "where type == 'microsoft.cognitiveservices/accounts' \r\n| summarize Selected = countif(id in ({Resources:value})), Total = count()\r\n| extend Selected = iff(Selected > 200, 200, Selected)\r\n| project Message = strcat('# ', Selected, ' / ', Total)",
            "crossComponentResources": [
              "{Subscription}"
            ],
            "isHiddenWhenLocked": true,
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources"
          },
          {
            "id": "070b2474-4e01-478d-a7fa-6c20ad8ea1ad",
            "version": "KqlParameterItem/1.0",
            "name": "ResourceName",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "Azure OpenAI Service"
                }
              }
            ]
          },
          {
            "id": "c6c32b32-6eb4-44d5-9cad-156d5d50ec3e",
            "version": "KqlParameterItem/1.0",
            "name": "ResourceImageUrl",
            "type": 1,
            "description": "used as a parameter for No Subcriptions workbook template",
            "isHiddenWhenLocked": true
          }
        ],
        "style": "above",
        "queryType": 0,
        "resourceType": "microsoft.resourcegraph/resources"
      },
      "name": "parameters - 1",
      "styleSettings": {
        "margin": "15px 0 0 0"
      }
    },
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "template",
        "loadFromTemplateId": "community-Workbooks/Common/noSubscriptions",
        "items": []
      },
      "conditionalVisibility": {
        "parameterName": "Subscription",
        "comparison": "isEqualTo",
        "value": ""
      },
      "name": "No Subscriptions group"
    },
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "editable",
        "items": [
          {
            "type": 11,
            "content": {
              "version": "LinkItem/1.0",
              "style": "tabs",
              "links": [
                {
                  "id": "8f323073-4275-4c81-823c-1d9e2a55c55f",
                  "cellValue": "selectedTab",
                  "linkTarget": "parameter",
                  "linkLabel": "Overview",
                  "subTarget": "Overview",
                  "style": "link"
                },
                {
                  "id": "59567c42-dca5-49b8-aa63-406f1f57bb39",
                  "cellValue": "selectedTab",
                  "linkTarget": "parameter",
                  "linkLabel": "Monitor",
                  "subTarget": "Monitor"
                },
                {
                  "id": "cd3401b2-a359-44b7-b61f-0ef9d01d2913",
                  "cellValue": "selectedTab",
                  "linkTarget": "parameter",
                  "linkLabel": "Insights",
                  "subTarget": "Insights",
                  "style": "link"
                }
              ]
            },
            "name": "links - Navigation links",
            "styleSettings": {
              "margin": "10px 0 0 0"
            }
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "items": [
                {
                  "type": 1,
                  "content": {
                    "json": "### Azure OpenAI Insights Workbook\r\n\r\nThe purpose of this workbook is to provide an overview of your Azure OpenAI resources.\r\n\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"19px\" height=\"19px\" viewBox=\"0 0 19 18\" version=\"1.1\"><g id=\"surface1\"><path style=\" stroke:none;fill-rule:evenodd;fill:rgb(14.117647%,16.078431%,18.431373%);fill-opacity:1;\" d=\"M 9.472656 0 C 4.234375 0 0 4.125 0 9.226562 C 0 13.308594 2.714844 16.761719 6.476562 17.984375 C 6.945312 18.074219 7.121094 17.785156 7.121094 17.539062 C 7.121094 17.324219 7.105469 16.59375 7.105469 15.828125 C 4.46875 16.378906 3.921875 14.726562 3.921875 14.726562 C 3.496094 13.660156 2.871094 13.382812 2.871094 13.382812 C 2.007812 12.820312 2.933594 12.820312 2.933594 12.820312 C 3.890625 12.878906 4.390625 13.765625 4.390625 13.765625 C 5.238281 15.171875 6.601562 14.773438 7.152344 14.53125 C 7.230469 13.933594 7.480469 13.519531 7.746094 13.292969 C 5.644531 13.078125 3.433594 12.285156 3.433594 8.738281 C 3.433594 7.730469 3.808594 6.90625 4.40625 6.265625 C 4.3125 6.035156 3.984375 5.085938 4.5 3.820312 C 4.5 3.820312 5.300781 3.574219 7.105469 4.765625 C 7.875 4.566406 8.671875 4.460938 9.472656 4.460938 C 10.269531 4.460938 11.085938 4.566406 11.839844 4.765625 C 13.644531 3.574219 14.441406 3.820312 14.441406 3.820312 C 14.960938 5.085938 14.628906 6.035156 14.535156 6.265625 C 15.148438 6.90625 15.507812 7.730469 15.507812 8.738281 C 15.507812 12.285156 13.296875 13.0625 11.179688 13.292969 C 11.527344 13.582031 11.824219 14.132812 11.824219 15.003906 C 11.824219 16.242188 11.808594 17.234375 11.808594 17.539062 C 11.808594 17.785156 11.980469 18.074219 12.453125 17.984375 C 16.214844 16.761719 18.925781 13.308594 18.925781 9.226562 C 18.941406 4.125 14.695312 0 9.472656 0 Z M 9.472656 0 \"/></g></svg>\r\n&nbsp;[<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;margin:-10px 0px 0px 0px;position: relative;top:-3px;left:-4px;\">Please submit any issues </span>](https://github.com/dolevshor/Azure-OpenAI-Insights/issues) <span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;margin:-10px 0px 0px 0px;position: relative;top:-3px;left:-4px;\"> with the workbook template to GitHub.</span>",
                    "style": "upsell"
                  },
                  "name": "text - Overview Title"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources\r\n| where type =~ \"microsoft.cognitiveservices/accounts\"\r\n| where kind =~ \"OpenAI\"\r\n| where name in~ (split(\"{Resources:label}\", \", \"))\r\n| summarize count(type) by subscriptionId",
                    "size": 3,
                    "title": "Count by Subscription Id",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "crossComponentResources": [
                      "{Subscription}"
                    ],
                    "visualization": "piechart"
                  },
                  "customWidth": "33",
                  "name": "query - Count by Subscription Id"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources\r\n| where type =~ \"microsoft.cognitiveservices/accounts\"\r\n| where kind =~ \"OpenAI\"\r\n| where name in~ (split(\"{Resources:label}\", \", \"))\r\n| summarize count(type) by resourceGroup",
                    "size": 3,
                    "title": "Count by Resource Group",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "crossComponentResources": [
                      "{Subscription}"
                    ],
                    "visualization": "piechart",
                    "tileSettings": {
                      "showBorder": false,
                      "titleContent": {
                        "columnMatch": "resourceGroup",
                        "formatter": 1
                      },
                      "leftContent": {
                        "columnMatch": "count_type",
                        "formatter": 12,
                        "formatOptions": {
                          "palette": "auto"
                        },
                        "numberFormat": {
                          "unit": 17,
                          "options": {
                            "maximumSignificantDigits": 3,
                            "maximumFractionDigits": 2
                          }
                        }
                      }
                    },
                    "graphSettings": {
                      "type": 0,
                      "topContent": {
                        "columnMatch": "resourceGroup",
                        "formatter": 1
                      },
                      "centerContent": {
                        "columnMatch": "count_type",
                        "formatter": 1,
                        "numberFormat": {
                          "unit": 17,
                          "options": {
                            "maximumSignificantDigits": 3,
                            "maximumFractionDigits": 2
                          }
                        }
                      }
                    }
                  },
                  "customWidth": "33",
                  "name": "query - Count by Resource Group"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources\r\n| where type =~ \"microsoft.cognitiveservices/accounts\"\r\n| where kind =~ \"OpenAI\"\r\n| where name in~ (split(\"{Resources:label}\", \", \"))\r\n| summarize count(type) by location",
                    "size": 3,
                    "title": "Count by Location",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "crossComponentResources": [
                      "{Subscription}"
                    ],
                    "visualization": "piechart"
                  },
                  "customWidth": "33",
                  "name": "query - Count by Location"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources\r\n| where type == \"microsoft.cognitiveservices/accounts\"\r\n| where kind =~ \"OpenAI\"\r\n| where name in~ (split(\"{Resources:label}\", \", \"))\r\n| summarize count(type) by kind",
                    "size": 3,
                    "title": "Count by Kind",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "crossComponentResources": [
                      "{Subscription}"
                    ],
                    "visualization": "piechart"
                  },
                  "customWidth": "33",
                  "name": "query - Count by Kind"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources\r\n| where type == \"microsoft.cognitiveservices/accounts\"\r\n| where kind =~ \"OpenAI\"\r\n| where name in~ (split(\"{Resources:label}\", \", \"))\r\n| summarize count(type) by tostring(properties.publicNetworkAccess)",
                    "size": 3,
                    "title": "Count by Public Network Access",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "crossComponentResources": [
                      "{Subscription}"
                    ],
                    "visualization": "piechart",
                    "tileSettings": {
                      "showBorder": false,
                      "titleContent": {
                        "columnMatch": "properties_publicNetworkAccess",
                        "formatter": 1
                      },
                      "leftContent": {
                        "columnMatch": "count_type",
                        "formatter": 12,
                        "formatOptions": {
                          "palette": "auto"
                        },
                        "numberFormat": {
                          "unit": 17,
                          "options": {
                            "maximumSignificantDigits": 3,
                            "maximumFractionDigits": 2
                          }
                        }
                      }
                    }
                  },
                  "customWidth": "33",
                  "name": "query - Count by Public Network Access"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources\r\n| where type =~ \"microsoft.cognitiveservices/accounts\"\r\n| where kind =~ \"OpenAI\"\r\n| where name in~ (split(\"{Resources:label}\", \", \"))\r\n| extend privateEndpointConnections = properties.privateEndpointConnections\r\n| extend privateEndpointConnections = iff(privateEndpointConnections == '[]','Disabled','Enabled')\r\n| summarize count(type) by tostring(privateEndpointConnections)",
                    "size": 3,
                    "title": "Count by Private Network Access",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "crossComponentResources": [
                      "{Subscription}"
                    ],
                    "visualization": "piechart"
                  },
                  "customWidth": "33",
                  "name": "query - Count by Private NetworkAccess"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources\r\n| where type =~ \"microsoft.cognitiveservices/accounts\"\r\n| where kind =~ \"OpenAI\"\r\n| where name in~ (split(\"{Resources:label}\", \", \"))\r\n| extend Details = pack_all()\r\n| project Resource=id, resourceGroup, location, subscriptionId, kind, SKU=sku.name, publicNetworkAccess=properties.publicNetworkAccess, privateEndpointConnections=properties.privateEndpointConnections, dateCreated=properties.dateCreated, tags, Details",
                    "size": 3,
                    "title": "Azure OpenAI",
                    "noDataMessage": "No Azure OpenAI resources found.",
                    "showExportToExcel": true,
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "crossComponentResources": [
                      "{Subscription}"
                    ],
                    "gridSettings": {
                      "formatters": [
                        {
                          "columnMatch": "$gen_group",
                          "formatter": 13,
                          "formatOptions": {
                            "linkTarget": "Resource",
                            "linkIsContextBlade": true,
                            "showIcon": true
                          }
                        },
                        {
                          "columnMatch": "Resource",
                          "formatter": 5
                        },
                        {
                          "columnMatch": "resourceGroup",
                          "formatter": 14,
                          "formatOptions": {
                            "linkTarget": null,
                            "showIcon": false
                          }
                        },
                        {
                          "columnMatch": "location",
                          "formatter": 17
                        },
                        {
                          "columnMatch": "subscriptionId",
                          "formatter": 5
                        },
                        {
                          "columnMatch": "SKU",
                          "formatter": 1
                        },
                        {
                          "columnMatch": "publicNetworkAccess",
                          "formatter": 1
                        },
                        {
                          "columnMatch": "dateCreated",
                          "formatter": 6
                        },
                        {
                          "columnMatch": "Details",
                          "formatter": 7,
                          "formatOptions": {
                            "linkTarget": "CellDetails",
                            "linkLabel": "🔍 View Details",
                            "linkIsContextBlade": true
                          }
                        },
                        {
                          "columnMatch": "Subscription",
                          "formatter": 13,
                          "formatOptions": {
                            "linkTarget": "Resource",
                            "linkIsContextBlade": true,
                            "showIcon": true
                          }
                        },
                        {
                          "columnMatch": "Tier",
                          "formatter": 1
                        },
                        {
                          "columnMatch": "Sku",
                          "formatter": 1
                        }
                      ],
                      "rowLimit": 1000,
                      "filter": true,
                      "hierarchySettings": {
                        "treeType": 1,
                        "groupBy": [
                          "subscriptionId"
                        ],
                        "expandTopLevel": true,
                        "finalBy": "Resource"
                      },
                      "labelSettings": [
                        {
                          "columnId": "Resource",
                          "label": "Resource"
                        },
                        {
                          "columnId": "resourceGroup",
                          "label": "Resource Group"
                        },
                        {
                          "columnId": "location",
                          "label": "Location"
                        },
                        {
                          "columnId": "subscriptionId",
                          "label": "Subscription Id"
                        },
                        {
                          "columnId": "kind",
                          "label": "Kind"
                        },
                        {
                          "columnId": "SKU",
                          "label": "SKU"
                        },
                        {
                          "columnId": "publicNetworkAccess",
                          "label": "Public Network Access"
                        },
                        {
                          "columnId": "privateEndpointConnections",
                          "label": "Private Endpoint Connections"
                        },
                        {
                          "columnId": "dateCreated",
                          "label": "Date Created"
                        },
                        {
                          "columnId": "tags",
                          "label": "Tags"
                        },
                        {
                          "columnId": "Details",
                          "label": "Details"
                        }
                      ]
                    },
                    "sortBy": [],
                    "tileSettings": {
                      "titleContent": {
                        "columnMatch": "vmSize",
                        "formatter": 1,
                        "formatOptions": {
                          "showIcon": true
                        }
                      },
                      "leftContent": {
                        "columnMatch": "Count",
                        "formatter": 12,
                        "formatOptions": {
                          "palette": "auto",
                          "showIcon": true
                        },
                        "numberFormat": {
                          "unit": 17,
                          "options": {
                            "maximumSignificantDigits": 3,
                            "maximumFractionDigits": 2
                          }
                        }
                      },
                      "showBorder": true
                    },
                    "graphSettings": {
                      "type": 0,
                      "topContent": {
                        "columnMatch": "vmSize",
                        "formatter": 1
                      },
                      "centerContent": {
                        "columnMatch": "Count",
                        "formatter": 1,
                        "numberFormat": {
                          "unit": 17,
                          "options": {
                            "maximumSignificantDigits": 3,
                            "maximumFractionDigits": 2
                          }
                        }
                      }
                    }
                  },
                  "name": "query - All Azure OpenAI"
                }
              ]
            },
            "conditionalVisibility": {
              "parameterName": "selectedTab",
              "comparison": "isEqualTo",
              "value": "Overview"
            },
            "name": "group - Overview"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "items": [
                {
                  "type": 11,
                  "content": {
                    "version": "LinkItem/1.0",
                    "style": "tabs",
                    "links": [
                      {
                        "id": "75dbecf0-d939-484a-a9b6-7ac357384d56",
                        "cellValue": "monitorTab",
                        "linkTarget": "parameter",
                        "linkLabel": "Overview",
                        "subTarget": "monitor-Overview",
                        "style": "link"
                      },
                      {
                        "id": "b2a47b9d-1023-418a-8ffc-67a693c0d5a6",
                        "cellValue": "monitorTab",
                        "linkTarget": "parameter",
                        "linkLabel": "HTTP Requests",
                        "subTarget": "monitor-HTTPRequests",
                        "style": "link",
                        "linkIsContextBlade": true
                      },
                      {
                        "id": "08ce5f59-a9bd-4a43-93c6-1c6221ec734f",
                        "cellValue": "monitorTab",
                        "linkTarget": "parameter",
                        "linkLabel": "Token-Based Usage",
                        "subTarget": "monitor-TokenBasedUsage",
                        "style": "link"
                      },
                      {
                        "id": "66b996b0-d586-40d7-9097-c707ff68a6da",
                        "cellValue": "monitorTab",
                        "linkTarget": "parameter",
                        "linkLabel": "PTU Utilization",
                        "subTarget": "monitor-PTUUtilization",
                        "style": "link"
                      },
                      {
                        "id": "6fcbb7f1-d77e-4efb-9f3f-d520801aa8f6",
                        "cellValue": "monitorTab",
                        "linkTarget": "parameter",
                        "linkLabel": "Fine-tuning",
                        "subTarget": "monitor-Finetuning",
                        "style": "link"
                      }
                    ]
                  },
                  "name": "links - Monitor Tabs"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 1,
                        "content": {
                          "json": "### Azure OpenAI Metrics Dashboard\r\nExplore the most important metrics for Azure OpenAI Service and understand your usage trends easily.\r\n[Azure OpenAI Metrics](https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/monitoring#azure-openai-metrics)",
                          "style": "upsell"
                        },
                        "name": "text - Monitor Title"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                              "aggregation": 1
                            }
                          ],
                          "title": "Azure OpenAI Requests",
                          "gridFormatType": 1,
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "Name",
                              "formatter": 13
                            },
                            "leftContent": {
                              "columnMatch": "Value",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Azure OpenAI Requests",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-TokenTransaction",
                              "aggregation": 1
                            }
                          ],
                          "title": "Processed Inference Tokens",
                          "gridFormatType": 1,
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "Name",
                              "formatter": 13
                            },
                            "leftContent": {
                              "columnMatch": "Value",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Processed Inference Tokens",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-ProcessedPromptTokens",
                              "aggregation": 1
                            }
                          ],
                          "title": "Processed Prompt Tokens",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Processed Prompt Tokens",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-GeneratedTokens",
                              "aggregation": 1
                            }
                          ],
                          "title": "Generated Completions Tokens",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Generated Completions Tokens",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-FineTunedTrainingHours",
                              "aggregation": 1
                            }
                          ],
                          "title": "Processed FineTuned Training Hours",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Processed FineTuned Training Hours",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-AzureOpenAIProvisionedManagedUtilizationV2",
                              "aggregation": 4
                            }
                          ],
                          "title": "Provisioned-managed Utilization",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Provisioned-managed Utilization",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-ActiveTokens",
                              "aggregation": 1
                            }
                          ],
                          "title": "Active Tokens",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Active Tokens",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIContextTokensCacheMatchRate",
                              "aggregation": 4
                            }
                          ],
                          "title": "Prompt Token Cache Match Rate",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Prompt Token Cache Match Rate",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAITimeToResponse",
                              "aggregation": 4
                            }
                          ],
                          "title": "Time to Response",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Time to Response",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "monitorTab",
                    "comparison": "isEqualTo",
                    "value": "monitor-Overview"
                  },
                  "name": "group - Monitor - Overview"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 1,
                        "content": {
                          "json": "#### Metrics Description\r\n- **Azure OpenAI Requests**: Number of calls made to the Azure OpenAI API over a period of time. (Applies to PTU, PTU-Managed and Pay-as-you-go deployments)\r\n- **Time to Response**: Recommended latency (responsiveness) measure for streaming requests. Calculated as time taken for the first response to appear after a user sends a prompt, as measured by the API gateway. This number increases as the prompt size increases and/or cache hit size reduces. (Applies to PTU and PTU-managed deployments)\r\n- **Prompt Token Cache Match Rate**: Percentage of the prompt tokens hit the cache,. (Applies to PTU-managed)",
                          "style": "upsell"
                        },
                        "name": "text - HTTP-Requests - Metric Description"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                              "aggregation": 7,
                              "splitBy": [
                                "ModelName"
                              ]
                            }
                          ],
                          "title": "Requests by Model Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Azure OpenAI Requests by Model Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                              "aggregation": 7,
                              "splitBy": [
                                "ModelVersion"
                              ]
                            }
                          ],
                          "title": "Requests by Model Version",
                          "gridFormatType": 1,
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "Name",
                              "formatter": 13
                            },
                            "leftContent": {
                              "columnMatch": "Value",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Azure OpenAI Requests by Model Version",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                              "aggregation": 7,
                              "splitBy": [
                                "ModelDeploymentName"
                              ]
                            }
                          ],
                          "title": "Requests by Model Deployment Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Requests by Model Deployment Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                              "aggregation": 7,
                              "splitBy": [
                                "StatusCode"
                              ]
                            }
                          ],
                          "title": "Requests by Status Code",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Requests by Status Code",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                              "aggregation": 7,
                              "splitBy": [
                                "StreamType"
                              ]
                            }
                          ],
                          "title": "Requests by StreamType",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Azure OpenAI Requests by StreamType",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                              "aggregation": 7,
                              "splitBy": [
                                "OperationName"
                              ]
                            }
                          ],
                          "title": "Requests by Operation Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Azure OpenAI Requests by Operation Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                              "aggregation": 7,
                              "splitBy": [
                                "ApiName"
                              ]
                            }
                          ],
                          "title": "Requests by API Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Azure OpenAI Requests by API Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                              "aggregation": 7,
                              "splitBy": [
                                "Region"
                              ]
                            }
                          ],
                          "title": "Requests by by Region",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Azure OpenAI Requests by Region",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAITimeToResponse",
                              "aggregation": 4,
                              "splitBy": [
                                "ModelName"
                              ]
                            }
                          ],
                          "title": "Time to Response by Model Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Azure OpenAI Time to Response by Model Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAITimeToResponse",
                              "aggregation": 4,
                              "splitBy": [
                                "ModelDeploymentName"
                              ]
                            }
                          ],
                          "title": "Time to Response by Model Deployment Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Azure OpenAI Time to Response by Model Deployment Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIContextTokensCacheMatchRate",
                              "aggregation": 4,
                              "splitBy": [
                                "ModelName"
                              ]
                            }
                          ],
                          "title": "Prompt Token Cache Match Rate by Model Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Azure OpenAI Prompt Token Cache Match Rate by Model Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIContextTokensCacheMatchRate",
                              "aggregation": 4,
                              "splitBy": [
                                "ModelDeploymentName"
                              ]
                            }
                          ],
                          "title": "Prompt Token Cache Match Rate by Model Deployment Name ",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Azure OpenAI Prompt Token Cache Match Rate by Model Deployment Name ",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "monitorTab",
                    "comparison": "isEqualTo",
                    "value": "monitor-HTTPRequests"
                  },
                  "name": "group - Monitor - HTTP Requests"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 1,
                        "content": {
                          "json": "### Metrics Description\r\n- **Processed Inference Tokens**: Number of inference tokens processed on an OpenAI model. Calculated as prompt tokens (input) plus generated tokens (output).\r\n- **Processed Prompt Tokens**: Number of prompt tokens processed (input) on an OpenAI model.\r\n- **Generated Completion Tokens**: Number of tokens generated (output) from an OpenAI model.\r\n- **Active tokens**: Total tokens minus cached tokens over a period of time.\r\n  - Use this metric to understand your TPS or TPM based utilization for PTUs and compare to your benchmarks for target TPS or TPM for your scenarios.\r\n\r\n> All Metrics applies to PTU, PTU-Managed and Pay-as-you-go deployments.",
                          "style": "upsell"
                        },
                        "name": "text - Token-Based Usage - Metric Description"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-TokenTransaction",
                              "aggregation": 1,
                              "splitBy": [
                                "FeatureName"
                              ]
                            }
                          ],
                          "title": "Processed Inference Tokens by Model Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Processed Inference Tokens by Model Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-TokenTransaction",
                              "aggregation": 1,
                              "splitBy": [
                                "ModelDeploymentName"
                              ]
                            }
                          ],
                          "title": "Processed Inference Tokens by Model Deployment Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Processed Inference Tokens by Model Deployment Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-ProcessedPromptTokens",
                              "aggregation": 1,
                              "splitBy": [
                                "FeatureName"
                              ]
                            }
                          ],
                          "title": "Processed Prompt Tokens by Model Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Processed Prompt Tokens by Model Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-ProcessedPromptTokens",
                              "aggregation": 1
                            }
                          ],
                          "title": "Processed Prompt Tokens by Model Deployment Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Processed Prompt Tokens by Model Deployment Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-GeneratedTokens",
                              "aggregation": 1,
                              "splitBy": [
                                "FeatureName"
                              ]
                            }
                          ],
                          "title": "Generate Completion Tokens by Model Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Generate Completion Tokens by Model Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-GeneratedTokens",
                              "aggregation": 1,
                              "splitBy": [
                                "ModelDeploymentName"
                              ]
                            }
                          ],
                          "title": "Generate Completion Tokens by Model Deployment Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Generate Completion Tokens by Model Deployment Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-ActiveTokens",
                              "aggregation": 1,
                              "splitBy": [
                                "ModelName"
                              ]
                            }
                          ],
                          "title": "Active Tokens by Model Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Active Tokens by Model Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-ActiveTokens",
                              "aggregation": 1,
                              "splitBy": [
                                "ModelDeploymentName"
                              ]
                            }
                          ],
                          "title": "Active Tokens by Model Deployment Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Active Tokens by Model Deployment Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "monitorTab",
                    "comparison": "isEqualTo",
                    "value": "monitor-TokenBasedUsage"
                  },
                  "name": "group - Monitor - Token-Based Usage"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 1,
                        "content": {
                          "json": "#### Metrics Description\r\n- **Provisioned-Managed Utilization**: Utilization % for a provisoned-managed deployment, calculated as (PTUs consumed / PTUs deployed) x 100.\r\n  - When utilization is greater than or equal to 100%, calls are throttled and error code 429 returned.",
                          "style": "upsell"
                        },
                        "name": "text - PTU Utilization - Metric Description"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-AzureOpenAIProvisionedManagedUtilizationV2",
                              "aggregation": 4,
                              "splitBy": [
                                "ModelName"
                              ]
                            }
                          ],
                          "title": "Provisioned-managed Utilization by Model Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Provisioned-managed Utilization by Model Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-AzureOpenAIProvisionedManagedUtilizationV2",
                              "aggregation": 4,
                              "splitBy": [
                                "ModelVersion"
                              ]
                            }
                          ],
                          "title": "Provisioned-managed Utilization by Model Version",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Provisioned-managed Utilization by Model Version",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-AzureOpenAIProvisionedManagedUtilizationV2",
                              "aggregation": 4,
                              "splitBy": [
                                "ModelDeploymentName"
                              ]
                            }
                          ],
                          "title": "Provisioned-managed Utilization by Model Deployment Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Provisioned-managed Utilization by Model Deployment Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-AzureOpenAIProvisionedManagedUtilizationV2",
                              "aggregation": 4,
                              "splitBy": [
                                "StreamType"
                              ]
                            }
                          ],
                          "title": "Provisioned-managed Utilization by StreamType",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Provisioned-managed Utilization by StreamType",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-AzureOpenAIProvisionedManagedUtilizationV2",
                              "aggregation": 4,
                              "splitBy": [
                                "Region"
                              ]
                            }
                          ],
                          "title": "Provisioned-managed Utilization by Region",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Provisioned-managed Utilization by Region",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "monitorTab",
                    "comparison": "isEqualTo",
                    "value": "monitor-PTUUtilization"
                  },
                  "name": "group - Monitor - PTU Utilization"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 1,
                        "content": {
                          "json": "#### Metrics Description\r\n- **Processed FineTuned Training Hours**: Number of training hours processed on an OpenAI finetuned model.",
                          "style": "upsell"
                        },
                        "name": "text - Fine-tuning - Metric Description"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-FineTunedTrainingHours",
                              "aggregation": 7,
                              "splitBy": [
                                "FeatureName"
                              ]
                            }
                          ],
                          "title": "Processed FineTuned Training Hours by Model Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Processed FineTuned Training Hours by Model Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook44a06433-82ec-44c1-8731-83e8a22cd995",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 1,
                          "resourceType": "microsoft.cognitiveservices/accounts",
                          "metricScope": 0,
                          "resourceParameter": "Resources",
                          "resourceIds": [
                            "{Resources}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 2592000000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.cognitiveservices/accounts",
                              "metric": "microsoft.cognitiveservices/accounts-Azure OpenAI  Usage-FineTunedTrainingHours",
                              "aggregation": 7,
                              "splitBy": [
                                "ModelDeploymentName"
                              ]
                            }
                          ],
                          "title": "Processed FineTuned Training Hours by Model Deployment Name",
                          "showOpenInMe": true,
                          "showCreateAlertRule": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "Subscription",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "Name",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": "Resource"
                                }
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "formatter": 5
                              },
                              {
                                "columnMatch": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "formatter": 1,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": null
                                }
                              }
                            ],
                            "rowLimit": 10000,
                            "labelSettings": [
                              {
                                "columnId": "Subscription",
                                "label": "Subscription"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests",
                                "label": "Azure OpenAI Requests (Sum)"
                              },
                              {
                                "columnId": "microsoft.cognitiveservices/accounts-Azure OpenAI  HTTP Requests-AzureOpenAIRequests Timeline",
                                "label": "Azure OpenAI Requests Timeline"
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": false,
                        "name": "Metric - Processed FineTuned Training Hours by Model Name",
                        "styleSettings": {
                          "margin": "0 0 20px 0"
                        }
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "monitorTab",
                    "comparison": "isEqualTo",
                    "value": "monitor-Finetuning"
                  },
                  "name": "group - Monitor - Fine-tuning"
                }
              ]
            },
            "conditionalVisibility": {
              "parameterName": "selectedTab",
              "comparison": "isEqualTo",
              "value": "Monitor"
            },
            "name": "group - Monitor"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "items": [
                {
                  "type": 11,
                  "content": {
                    "version": "LinkItem/1.0",
                    "style": "tabs",
                    "links": [
                      {
                        "id": "75dbecf0-d939-484a-a9b6-7ac357384d56",
                        "cellValue": "insightsTab",
                        "linkTarget": "parameter",
                        "linkLabel": "Overview",
                        "subTarget": "insights-Overview",
                        "style": "link"
                      },
                      {
                        "id": "6fcbb7f1-d77e-4efb-9f3f-d520801aa8f6",
                        "cellValue": "insightsTab",
                        "linkTarget": "parameter",
                        "linkLabel": "By CallerIP",
                        "subTarget": "insights-ByCallerIP",
                        "style": "link"
                      },
                      {
                        "id": "2e49b083-f372-403c-bd48-3c378af48ad6",
                        "cellValue": "insightsTab",
                        "linkTarget": "parameter",
                        "linkLabel": "All Logs",
                        "subTarget": "insights-AllLogs",
                        "style": "link"
                      },
                      {
                        "id": "a016ca13-0340-4259-871c-33a5b9dca2cb",
                        "cellValue": "insightsTab",
                        "linkTarget": "parameter",
                        "linkLabel": "Failures",
                        "subTarget": "insights-Failures",
                        "style": "link"
                      }
                    ]
                  },
                  "name": "links - Insights Tabs"
                },
                {
                  "type": 9,
                  "content": {
                    "version": "KqlParameterItem/1.0",
                    "crossComponentResources": [
                      "{SubscriptionLA}"
                    ],
                    "parameters": [
                      {
                        "id": "4d871b60-84e9-4fe8-8cb8-13d7e11fc93e",
                        "version": "KqlParameterItem/1.0",
                        "name": "SubscriptionLA",
                        "label": "Workspace Subscriptions",
                        "type": 6,
                        "description": "All subscriptions with Azure Log Analytics Workspace",
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "Resources\r\n| where type =~ \"microsoft.operationalinsights/workspaces\"\r\n| summarize Count = count() by subscriptionId\r\n| order by Count desc\r\n| extend Rank = row_number()\r\n| project value = subscriptionId, label = subscriptionId, selected = Rank == 1",
                        "crossComponentResources": [
                          "value::all"
                        ],
                        "typeSettings": {
                          "additionalResourceOptions": [
                            "value::all"
                          ],
                          "showDefault": false
                        },
                        "timeContext": {
                          "durationMs": 0
                        },
                        "timeContextFromParameter": "TimeRange",
                        "queryType": 1,
                        "resourceType": "microsoft.resourcegraph/resources"
                      },
                      {
                        "id": "9ffb6564-df12-41cc-b55d-495e7855d606",
                        "version": "KqlParameterItem/1.0",
                        "name": "Workspace",
                        "label": "Log Analytics Workspace",
                        "type": 5,
                        "description": "Log Analytics Workspace(s) with Azure OpenAI logs",
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "where type =~ \"microsoft.operationalinsights/workspaces\"\r\n| project id",
                        "crossComponentResources": [
                          "{SubscriptionLA}"
                        ],
                        "typeSettings": {
                          "resourceTypeFilter": {
                            "microsoft.operationalinsights/workspaces": true
                          },
                          "additionalResourceOptions": [
                            "value::all"
                          ],
                          "showDefault": false
                        },
                        "timeContext": {
                          "durationMs": 86400000
                        },
                        "queryType": 1,
                        "resourceType": "microsoft.resourcegraph/resources"
                      }
                    ],
                    "style": "above",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources"
                  },
                  "name": "parameters - Insights"
                },
                {
                  "type": 9,
                  "content": {
                    "version": "KqlParameterItem/1.0",
                    "crossComponentResources": [
                      "{Workspace}"
                    ],
                    "parameters": [
                      {
                        "id": "b23f8248-be48-42fb-9844-929eaa66464b",
                        "version": "KqlParameterItem/1.0",
                        "name": "modeldeploymentname",
                        "label": "Model Deployment Name",
                        "type": 2,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n    and Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName)\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == 200    \r\n    and isnotempty(modelDeploymentName)\r\n| distinct modelDeploymentName",
                        "crossComponentResources": [
                          "{Workspace}"
                        ],
                        "typeSettings": {
                          "additionalResourceOptions": [
                            "value::all"
                          ],
                          "showDefault": false
                        },
                        "timeContext": {
                          "durationMs": 0
                        },
                        "timeContextFromParameter": "TimeRange",
                        "defaultValue": "value::all",
                        "queryType": 0,
                        "resourceType": "microsoft.operationalinsights/workspaces"
                      },
                      {
                        "id": "6174e5f6-deff-412d-891a-0f681c2fffd5",
                        "version": "KqlParameterItem/1.0",
                        "name": "modelname",
                        "label": "Model Name",
                        "type": 2,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n    and Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName)\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == 200\r\n    and modelDeploymentName in ({modeldeploymentname})          \r\n    and isnotempty(modelName)\r\n| distinct modelName",
                        "crossComponentResources": [
                          "{Workspace}"
                        ],
                        "typeSettings": {
                          "additionalResourceOptions": [
                            "value::all"
                          ],
                          "showDefault": false
                        },
                        "timeContext": {
                          "durationMs": 0
                        },
                        "timeContextFromParameter": "TimeRange",
                        "defaultValue": "value::all",
                        "queryType": 0,
                        "resourceType": "microsoft.operationalinsights/workspaces"
                      },
                      {
                        "id": "fe5605b0-a404-4251-9449-a2f92a8cd6ca",
                        "version": "KqlParameterItem/1.0",
                        "name": "modelversion",
                        "label": "Model Version",
                        "type": 2,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n    and Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=tostring(properties.modelVersion),\r\n        streamType=properties.streamType        \r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == 200\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and isnotempty(modelVersion)\r\n| distinct modelVersion",
                        "crossComponentResources": [
                          "{Workspace}"
                        ],
                        "typeSettings": {
                          "additionalResourceOptions": [
                            "value::all"
                          ],
                          "showDefault": false
                        },
                        "timeContext": {
                          "durationMs": 0
                        },
                        "timeContextFromParameter": "TimeRange",
                        "defaultValue": "value::all",
                        "queryType": 0,
                        "resourceType": "microsoft.operationalinsights/workspaces"
                      },
                      {
                        "id": "79a79007-6e1c-4fd5-b0f0-211aef3dec54",
                        "version": "KqlParameterItem/1.0",
                        "name": "apiVersion",
                        "label": "API Version",
                        "type": 2,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n    and Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == 200\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})    \r\n    and modelVersion in ({modelversion})      \r\n    and isnotempty(apiVersion)\r\n| distinct apiVersion",
                        "crossComponentResources": [
                          "{Workspace}"
                        ],
                        "typeSettings": {
                          "additionalResourceOptions": [
                            "value::all"
                          ],
                          "showDefault": false
                        },
                        "timeContext": {
                          "durationMs": 0
                        },
                        "timeContextFromParameter": "TimeRange",
                        "defaultValue": "value::all",
                        "queryType": 0,
                        "resourceType": "microsoft.operationalinsights/workspaces",
                        "value": [
                          "value::all"
                        ]
                      },
                      {
                        "id": "ed2e4e38-431e-47ac-96aa-89fe66091344",
                        "version": "KqlParameterItem/1.0",
                        "name": "OperationName",
                        "label": "Operation Name",
                        "type": 2,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n    and Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == 200\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})    \r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})    \r\n    and isnotempty(OperationName)\r\n| distinct OperationName",
                        "crossComponentResources": [
                          "{Workspace}"
                        ],
                        "typeSettings": {
                          "additionalResourceOptions": [
                            "value::all"
                          ],
                          "showDefault": false
                        },
                        "timeContext": {
                          "durationMs": 0
                        },
                        "timeContextFromParameter": "TimeRange",
                        "defaultValue": "value::all",
                        "queryType": 0,
                        "resourceType": "microsoft.operationalinsights/workspaces",
                        "value": [
                          "value::all"
                        ]
                      },
                      {
                        "id": "9f33d58a-7e23-4cbb-a5bc-fe1fd25d3471",
                        "version": "KqlParameterItem/1.0",
                        "name": "streamtype",
                        "label": "Stream Type",
                        "type": 2,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n    and Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=tostring(properties.streamType),\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == 200\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})    \r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and isnotempty(streamType)\r\n| distinct streamType",
                        "crossComponentResources": [
                          "{Workspace}"
                        ],
                        "typeSettings": {
                          "additionalResourceOptions": [
                            "value::all"
                          ],
                          "showDefault": false
                        },
                        "timeContext": {
                          "durationMs": 0
                        },
                        "timeContextFromParameter": "TimeRange",
                        "defaultValue": "value::all",
                        "queryType": 0,
                        "resourceType": "microsoft.operationalinsights/workspaces"
                      },
                      {
                        "id": "7cb4868a-f01b-4674-bbef-7ea2d886a1b1",
                        "version": "KqlParameterItem/1.0",
                        "name": "location",
                        "label": "Location",
                        "type": 2,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n    and Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| extend Location = location_s\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == 200\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})    \r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})    \r\n    and streamType in ({streamtype})    \r\n    and isnotempty(Location)\r\n| distinct Location",
                        "crossComponentResources": [
                          "{Workspace}"
                        ],
                        "typeSettings": {
                          "additionalResourceOptions": [
                            "value::all"
                          ],
                          "showDefault": false
                        },
                        "timeContext": {
                          "durationMs": 0
                        },
                        "timeContextFromParameter": "TimeRange",
                        "defaultValue": "value::all",
                        "queryType": 0,
                        "resourceType": "microsoft.operationalinsights/workspaces"
                      }
                    ],
                    "style": "pills",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces"
                  },
                  "conditionalVisibility": {
                    "parameterName": "insightsTab",
                    "comparison": "isNotEqualTo",
                    "value": "insights-Failures"
                  },
                  "name": "parameters - Insights Filters"
                },
                {
                  "type": 9,
                  "content": {
                    "version": "KqlParameterItem/1.0",
                    "crossComponentResources": [
                      "{Workspace}"
                    ],
                    "parameters": [
                      {
                        "id": "76dd3d51-fea9-4c49-8c3f-510423bbd2fb",
                        "version": "KqlParameterItem/1.0",
                        "name": "apiVersionFailure",
                        "label": "API Version",
                        "type": 2,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n    and Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == 404    \r\n    and isnotempty(apiVersion)\r\n| distinct apiVersion",
                        "crossComponentResources": [
                          "{Workspace}"
                        ],
                        "typeSettings": {
                          "additionalResourceOptions": [
                            "value::all"
                          ],
                          "showDefault": false
                        },
                        "timeContext": {
                          "durationMs": 0
                        },
                        "timeContextFromParameter": "TimeRange",
                        "defaultValue": "value::all",
                        "queryType": 0,
                        "resourceType": "microsoft.operationalinsights/workspaces"
                      },
                      {
                        "id": "291ed2f3-a2c1-4d91-9d12-b98b845b8cab",
                        "version": "KqlParameterItem/1.0",
                        "name": "OperationNameFailure",
                        "label": "Operation Name",
                        "type": 2,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n    and Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == 404\r\n    and apiVersion in ({apiVersionFailure})    \r\n    and isnotempty(OperationName)\r\n| distinct OperationName",
                        "crossComponentResources": [
                          "{Workspace}"
                        ],
                        "typeSettings": {
                          "additionalResourceOptions": [
                            "value::all"
                          ],
                          "showDefault": false
                        },
                        "timeContext": {
                          "durationMs": 0
                        },
                        "timeContextFromParameter": "TimeRange",
                        "defaultValue": "value::all",
                        "queryType": 0,
                        "resourceType": "microsoft.operationalinsights/workspaces",
                        "value": null
                      },
                      {
                        "id": "515fc7f3-052f-4c6b-b837-c66f0a1455fd",
                        "version": "KqlParameterItem/1.0",
                        "name": "streamtypeFailure",
                        "label": "Stream Type",
                        "type": 2,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n    and Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend streamType=tostring(properties.streamType),\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == 404\r\n    and apiVersion in ({apiVersionFailure})\r\n    and OperationName in ({OperationNameFailure})\r\n    and isnotempty(streamType)\r\n| distinct streamType",
                        "crossComponentResources": [
                          "{Workspace}"
                        ],
                        "typeSettings": {
                          "additionalResourceOptions": [
                            "value::all"
                          ],
                          "showDefault": false
                        },
                        "timeContext": {
                          "durationMs": 0
                        },
                        "timeContextFromParameter": "TimeRange",
                        "defaultValue": "value::all",
                        "queryType": 0,
                        "resourceType": "microsoft.operationalinsights/workspaces"
                      },
                      {
                        "id": "f6da14b2-546d-4c3a-bc70-f068fc3581e3",
                        "version": "KqlParameterItem/1.0",
                        "name": "locationFailure",
                        "label": "Location",
                        "type": 2,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n    and Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| extend Location = location_s\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == 404\r\n    and apiVersion in ({apiVersionFailure})\r\n    and OperationName in ({OperationNameFailure})    \r\n    and streamType in ({streamtypeFailure})    \r\n    and isnotempty(Location)\r\n| distinct Location",
                        "crossComponentResources": [
                          "{Workspace}"
                        ],
                        "typeSettings": {
                          "additionalResourceOptions": [
                            "value::all"
                          ],
                          "showDefault": false
                        },
                        "timeContext": {
                          "durationMs": 0
                        },
                        "timeContextFromParameter": "TimeRange",
                        "defaultValue": "value::all",
                        "queryType": 0,
                        "resourceType": "microsoft.operationalinsights/workspaces",
                        "value": [
                          "swedencentral",
                          "value::all"
                        ]
                      }
                    ],
                    "style": "pills",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces"
                  },
                  "conditionalVisibility": {
                    "parameterName": "insightsTab",
                    "comparison": "isEqualTo",
                    "value": "insights-Failures"
                  },
                  "name": "parameters - Insights Filters-Failures"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 1,
                        "content": {
                          "json": "### Azure OpenAI Logs Dashboard\r\nExplore the most important Logs for Azure OpenAI Service and understand your usage trends easily.\r\n[Azure OpenAI Metrics](https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/monitoring#azure-openai-metrics)",
                          "style": "upsell"
                        },
                        "name": "text - Insights Overview"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')        \r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count() by Resource\r\n",
                          "size": 3,
                          "title": "Requests by Resource",
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "piechart",
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "25",
                        "name": "query - RequestResponse by Resource"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| extend Location = location_s        \r\n| where OperationName !has \"_List\"\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count() by Location",
                          "size": 3,
                          "title": "Requests by Location",
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "piechart",
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "25",
                        "name": "query - RequestResponse by Location"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| extend streamType=properties.streamType\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count() by tostring(streamType)",
                          "size": 3,
                          "title": "Requests by Stream Type",
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "piechart",
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "25",
                        "name": "query - RequestResponse by streamType"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| extend streamType=properties.streamType\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count() by tostring(apiVersion)",
                          "size": 3,
                          "title": "Requests by Api Version",
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "piechart",
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "25",
                        "name": "query - RequestResponse by apiVersion"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count() by tostring(modelDeploymentName), tostring(modelName), OperationName\r\n| sort by tostring(modelDeploymentName) asc",
                          "size": 0,
                          "title": "Requests by Model Deployment Name + Operation Name",
                          "timeContextFromParameter": "TimeRange",
                          "showExportToExcel": true,
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "table",
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "count_modelDeploymentName",
                                "formatter": 1
                              }
                            ],
                            "filter": true,
                            "labelSettings": [
                              {
                                "columnId": "modelDeploymentName",
                                "label": "Model Deployment Name"
                              },
                              {
                                "columnId": "modelName",
                                "label": "Model Name"
                              },
                              {
                                "columnId": "OperationName",
                                "label": "Operation Name"
                              }
                            ]
                          },
                          "sortBy": [],
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "60",
                        "name": "query - RequestResponse by Model Deployment Name + Operation Name"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count() by tostring(modelDeploymentName)",
                          "size": 3,
                          "title": "Requests by Model Deployment Name",
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "piechart",
                          "gridSettings": {
                            "sortBy": [
                              {
                                "itemKey": "count_",
                                "sortOrder": 2
                              }
                            ]
                          },
                          "sortBy": [
                            {
                              "itemKey": "count_",
                              "sortOrder": 2
                            }
                          ],
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "35",
                        "name": "query - RequestResponse by Model Deployment Name"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count() by tostring(modelName), OperationName\r\n| sort by tostring(modelName) asc\r\n",
                          "size": 0,
                          "title": "Requests by Model Name + Operation Name",
                          "timeContextFromParameter": "TimeRange",
                          "showExportToExcel": true,
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "table",
                          "gridSettings": {
                            "filter": true,
                            "labelSettings": [
                              {
                                "columnId": "modelName",
                                "label": "Model Name"
                              },
                              {
                                "columnId": "OperationName",
                                "label": "Operation Name"
                              }
                            ]
                          },
                          "sortBy": [],
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "60",
                        "name": "query - RequestResponse by Model Name + Operation Name"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count() by tostring(modelName)",
                          "size": 3,
                          "title": "Requests by Model Name",
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "piechart",
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "35",
                        "name": "query - RequestResponse by Model Name"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count() by OperationName\r\n| sort by OperationName asc",
                          "size": 0,
                          "title": "Requests by Operation Name",
                          "timeContextFromParameter": "TimeRange",
                          "showExportToExcel": true,
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "table",
                          "gridSettings": {
                            "filter": true,
                            "labelSettings": [
                              {
                                "columnId": "OperationName",
                                "label": "Operation Name"
                              },
                              {
                                "columnId": "count_",
                                "label": "Requests"
                              }
                            ]
                          },
                          "sortBy": [],
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "60",
                        "name": "query - RequestResponse by Operation Name"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count() by tostring(OperationName)",
                          "size": 3,
                          "title": "Requests by Operation Name",
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "piechart",
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "35",
                        "name": "query - RequestResponse by Operation Name"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "### Averages\r\nAverages of duration (ms), requestLength (bytes) and responseLength (bytes) by Model Deployment Name, Model Name and Operation Names.",
                          "style": "info"
                        },
                        "name": "text - Average"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count(modelDeploymentName), avg(DurationMs) by tostring(modelDeploymentName), tostring(modelName), OperationName\r\n| sort by tostring(modelDeploymentName) asc\r\n",
                          "size": 0,
                          "title": "Requests by Avg Duration (ms)",
                          "timeContextFromParameter": "TimeRange",
                          "showExportToExcel": true,
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "table",
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "count_modelDeploymentName",
                                "formatter": 1
                              },
                              {
                                "columnMatch": "avg_DurationMs",
                                "formatter": 1,
                                "formatOptions": {
                                  "aggregation": "Average"
                                },
                                "numberFormat": {
                                  "unit": 0,
                                  "options": {
                                    "style": "decimal",
                                    "maximumFractionDigits": 2
                                  }
                                }
                              }
                            ],
                            "filter": true,
                            "labelSettings": [
                              {
                                "columnId": "modelDeploymentName",
                                "label": "Model Deployment Name"
                              },
                              {
                                "columnId": "modelName",
                                "label": "Model Name"
                              },
                              {
                                "columnId": "OperationName",
                                "label": "Operation Name"
                              },
                              {
                                "columnId": "count_modelDeploymentName",
                                "label": "Requests"
                              },
                              {
                                "columnId": "avg_DurationMs",
                                "label": "Avg Duration (ms)"
                              }
                            ]
                          },
                          "sortBy": [],
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "50",
                        "name": "query - RequestResponse by Avg Duration (ms)"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| extend ModelAndOperation = strcat(modelDeploymentName,\" (\",OperationName,\")\")\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize avg(DurationMs) by tostring(ModelAndOperation)\r\n| sort by tostring(ModelAndOperation) asc",
                          "size": 0,
                          "title": "Requests by Avg Duration (ms)",
                          "timeContextFromParameter": "TimeRange",
                          "showExportToExcel": true,
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "barchart",
                          "gridSettings": {
                            "filter": true
                          },
                          "sortBy": [],
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              },
                              "label": ""
                            },
                            "ySettings": {
                              "label": ""
                            }
                          }
                        },
                        "customWidth": "50",
                        "name": "query - RequestResponse by Avg Duration (ms) | Model Deployment Name (Operation Name)"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| extend requestLength=toint(properties.requestLength)\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count(), avg(requestLength) by tostring(modelDeploymentName), tostring(modelName), OperationName\r\n| sort by tostring(modelDeploymentName) asc, OperationName asc\r\n",
                          "size": 0,
                          "title": "Requests by Avg requestLength (bytes)",
                          "timeContextFromParameter": "TimeRange",
                          "showExportToExcel": true,
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "table",
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "count_",
                                "formatter": 1
                              },
                              {
                                "columnMatch": "avg_DurationMs",
                                "formatter": 1,
                                "formatOptions": {
                                  "aggregation": "Average"
                                },
                                "numberFormat": {
                                  "unit": 0,
                                  "options": {
                                    "style": "decimal",
                                    "maximumFractionDigits": 2
                                  }
                                }
                              }
                            ],
                            "filter": true,
                            "labelSettings": [
                              {
                                "columnId": "modelDeploymentName",
                                "label": "Model Deployment Name"
                              },
                              {
                                "columnId": "modelName",
                                "label": "Model Name"
                              },
                              {
                                "columnId": "OperationName",
                                "label": "Operation Name"
                              },
                              {
                                "columnId": "count_",
                                "label": "Requests"
                              },
                              {
                                "columnId": "avg_requestLength",
                                "label": "Avg Request Length (bytes)"
                              }
                            ]
                          },
                          "sortBy": [],
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "50",
                        "name": "query - RequestResponse by Avg requestLength (bytes)"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| extend ModelAndOperation = strcat(modelDeploymentName,\" (\",OperationName,\")\")\r\n| extend requestLength=toint(properties.requestLength)\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize avg(requestLength) by tostring(ModelAndOperation)\r\n| sort by tostring(ModelAndOperation) asc",
                          "size": 0,
                          "title": "Requests by Avg requestLength (bytes)",
                          "timeContextFromParameter": "TimeRange",
                          "showExportToExcel": true,
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "barchart",
                          "gridSettings": {
                            "filter": true
                          },
                          "sortBy": [],
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "50",
                        "name": "query - RequestResponse by Avg requestLength (bytes) | Model Deployment Name (Operation Name)"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| extend responseLength=toint(properties.responseLength)\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count(), avg(responseLength) by tostring(modelDeploymentName), tostring(modelName), OperationName\r\n| sort by tostring(modelDeploymentName) asc, OperationName asc\r\n",
                          "size": 0,
                          "title": "Requests by Avg responseLength (bytes)",
                          "timeContextFromParameter": "TimeRange",
                          "showExportToExcel": true,
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "table",
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "count_",
                                "formatter": 1
                              },
                              {
                                "columnMatch": "avg_responseLength",
                                "formatter": 0,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": {
                                    "style": "decimal"
                                  }
                                }
                              }
                            ],
                            "filter": true,
                            "labelSettings": [
                              {
                                "columnId": "modelDeploymentName",
                                "label": "Model Deployment Name"
                              },
                              {
                                "columnId": "modelName",
                                "label": "Model Name"
                              },
                              {
                                "columnId": "OperationName",
                                "label": "Operation Name"
                              },
                              {
                                "columnId": "count_",
                                "label": "Requests"
                              },
                              {
                                "columnId": "avg_responseLength",
                                "label": "Avg Response Length (bytes)"
                              }
                            ]
                          },
                          "sortBy": [],
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "50",
                        "name": "query - RequestResponse by Avg responseLength (bytes)"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| extend ModelAndOperation = strcat(modelDeploymentName,\" (\",OperationName,\")\")\r\n| extend responseLength=toint(properties.responseLength)\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize avg(responseLength) by tostring(ModelAndOperation)\r\n| sort by tostring(ModelAndOperation) asc",
                          "size": 0,
                          "title": "Requests by Avg responseLength (bytes)",
                          "timeContextFromParameter": "TimeRange",
                          "showExportToExcel": true,
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "barchart",
                          "gridSettings": {
                            "filter": true
                          },
                          "sortBy": [],
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "50",
                        "name": "query - RequestResponse by Avg responseLength (bytes) | Model Deployment Name (Operation Name)"
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "insightsTab",
                    "comparison": "isEqualTo",
                    "value": "insights-Overview"
                  },
                  "name": "group - Insights - Overview"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 1,
                        "content": {
                          "json": "### By CallerIP\r\nAll success \"Request / Response\" (Status Code: 200) operational logs, with the exclusion of administration logs divided by CallerIP Address.",
                          "style": "upsell"
                        },
                        "name": "text - Insights by CallerIP"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location}) \r\n| summarize count() by CallerIPAddress",
                          "size": 3,
                          "title": "Requests by Caller IP Address",
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "piechart",
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "30",
                        "name": "query - RequestResponse by CallerIP Address"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count(OperationName) by CallerIPAddress, OperationName\r\n| sort by CallerIPAddress",
                          "size": 3,
                          "title": "Requests | Operation Name by CallerIP Address",
                          "timeContextFromParameter": "TimeRange",
                          "showRefreshButton": true,
                          "exportFieldName": "CallerIPAddress",
                          "exportParameterName": "CallerIP",
                          "showExportToExcel": true,
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "table",
                          "gridSettings": {
                            "filter": true,
                            "labelSettings": [
                              {
                                "columnId": "CallerIPAddress",
                                "label": "Caller IP Address"
                              },
                              {
                                "columnId": "OperationName",
                                "label": "Operation Name"
                              },
                              {
                                "columnId": "count_OperationName",
                                "label": "Count"
                              }
                            ]
                          },
                          "sortBy": [],
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "50",
                        "name": "query - RequestResponse Operation Name by CallerIP Address"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName),\r\n        requestLength=toint(properties.requestLength),\r\n        responseLength=toint(properties.responseLength)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count(modelDeploymentName), avg(DurationMs), avg(requestLength), avg(responseLength) by CallerIPAddress, tostring(modelDeploymentName), OperationName\r\n| sort by CallerIPAddress\r\n",
                          "size": 3,
                          "title": "Requests | Model Deployment Name + Operation Name by CallerIP Address",
                          "timeContextFromParameter": "TimeRange",
                          "showRefreshButton": true,
                          "showExportToExcel": true,
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "table",
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "count_modelDeploymentName",
                                "formatter": 1
                              },
                              {
                                "columnMatch": "avg_DurationMs",
                                "formatter": 1
                              },
                              {
                                "columnMatch": "avg_requestLength",
                                "formatter": 1
                              },
                              {
                                "columnMatch": "avg_responseLength",
                                "formatter": 1
                              }
                            ],
                            "filter": true,
                            "sortBy": [
                              {
                                "itemKey": "count_modelDeploymentName",
                                "sortOrder": 1
                              }
                            ],
                            "labelSettings": [
                              {
                                "columnId": "CallerIPAddress",
                                "label": "Caller IP Address"
                              },
                              {
                                "columnId": "modelDeploymentName",
                                "label": "Model Deployment Name"
                              },
                              {
                                "columnId": "OperationName",
                                "label": "Operation Name"
                              },
                              {
                                "columnId": "count_modelDeploymentName",
                                "label": "Count"
                              },
                              {
                                "columnId": "avg_DurationMs",
                                "label": "Avg Duration (ms)"
                              },
                              {
                                "columnId": "avg_requestLength",
                                "label": "Avg Request Length (bytes)"
                              },
                              {
                                "columnId": "avg_responseLength",
                                "label": "Avg Response Length (bytes)"
                              }
                            ]
                          },
                          "sortBy": [
                            {
                              "itemKey": "count_modelDeploymentName",
                              "sortOrder": 1
                            }
                          ],
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "name": "query - RequestResponse Model Deployment Name + Operation Name by CallerIP Address"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName),\r\n        requestLength=toint(properties.requestLength),\r\n        responseLength=toint(properties.responseLength)        \r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"200\"\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})\r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})\r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})\r\n| summarize count(modelName), avg(DurationMs), avg(requestLength), avg(responseLength) by CallerIPAddress, tostring(modelName), OperationName\r\n| sort by CallerIPAddress",
                          "size": 3,
                          "title": "Requests | Model Name + Operation Name by Caller IP Address",
                          "timeContextFromParameter": "TimeRange",
                          "showRefreshButton": true,
                          "showExportToExcel": true,
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "table",
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "count_modelName",
                                "formatter": 1
                              },
                              {
                                "columnMatch": "avg_DurationMs",
                                "formatter": 1
                              },
                              {
                                "columnMatch": "avg_requestLength",
                                "formatter": 1
                              },
                              {
                                "columnMatch": "avg_responseLength",
                                "formatter": 1
                              }
                            ],
                            "filter": true,
                            "sortBy": [
                              {
                                "itemKey": "count_modelName",
                                "sortOrder": 2
                              }
                            ],
                            "labelSettings": [
                              {
                                "columnId": "CallerIPAddress",
                                "label": "Caller IP Address"
                              },
                              {
                                "columnId": "modelName",
                                "label": "Model Name"
                              },
                              {
                                "columnId": "OperationName",
                                "label": "Operation Name"
                              },
                              {
                                "columnId": "count_modelName",
                                "label": "Count"
                              },
                              {
                                "columnId": "avg_DurationMs",
                                "label": "Avg Duration (ms)"
                              },
                              {
                                "columnId": "avg_requestLength",
                                "label": "Avg Request Length (bytes)"
                              },
                              {
                                "columnId": "avg_responseLength",
                                "label": "Avg ResponseLength (bytes)"
                              }
                            ]
                          },
                          "sortBy": [
                            {
                              "itemKey": "count_modelName",
                              "sortOrder": 2
                            }
                          ],
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "name": "query - RequestResponse Model Name + Operation Name by CallerIP Address"
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "insightsTab",
                    "comparison": "isEqualTo",
                    "value": "insights-ByCallerIP"
                  },
                  "name": "group - Insights - By CallerIP"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 1,
                        "content": {
                          "json": "### All Successful Requests\r\nAll success *\"Request / Response\"* (Status Code: 200) operational logs, with the exclusion of administration logs.",
                          "style": "upsell"
                        },
                        "name": "text - Insights - All Logs"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend modelDeploymentName=tostring(properties.modelDeploymentName),\r\n        modelName=tostring(properties.modelName),\r\n        modelVersion=properties.modelVersion,\r\n        streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName),\r\n        objectId=tostring(properties.objectId)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == 200\r\n    and modelDeploymentName in ({modeldeploymentname})\r\n    and modelName in ({modelname})    \r\n    and modelVersion in ({modelversion})\r\n    and apiVersion in ({apiVersion})\r\n    and OperationName in ({OperationName})    \r\n    and streamType in ({streamtype})\r\n    and location_s in ({location})    \r\n| project\r\n    TimeGenerated,\r\n    Resource,\r\n    modelDeploymentName=properties.modelDeploymentName,\r\n    modelName=properties.modelName,\r\n    OperationName,\r\n    DurationMs,\r\n    requestLength=properties.requestLength,\r\n    responseLength=properties.responseLength,    \r\n    streamType,    \r\n    CallerIPAddress,\r\n    apiVersion,\r\n    modelVersion,\r\n    //requestTime=properties.requestTime,    \r\n    //responseTime=properties.responseTime,\r\n    objectId,\r\n    Location=location_s,\r\n    ResultSignature\r\n    | sort by TimeGenerated desc",
                          "size": 3,
                          "showAnalytics": true,
                          "title": "Successful requests",
                          "timeContextFromParameter": "TimeRange",
                          "showRefreshButton": true,
                          "showExportToExcel": true,
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "table",
                          "showExpandCollapseGrid": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "DurationMs",
                                "formatter": 1
                              },
                              {
                                "columnMatch": "Location",
                                "formatter": 17
                              }
                            ],
                            "rowLimit": 500,
                            "filter": true,
                            "sortBy": [
                              {
                                "itemKey": "TimeGenerated",
                                "sortOrder": 2
                              }
                            ],
                            "labelSettings": [
                              {
                                "columnId": "TimeGenerated",
                                "label": "Time Generated"
                              },
                              {
                                "columnId": "Resource",
                                "label": "Resource"
                              },
                              {
                                "columnId": "modelDeploymentName",
                                "label": "Model Deployment Name"
                              },
                              {
                                "columnId": "modelName",
                                "label": "Model Name"
                              },
                              {
                                "columnId": "OperationName",
                                "label": "Operation Name"
                              },
                              {
                                "columnId": "DurationMs",
                                "label": "Duration (ms)"
                              },
                              {
                                "columnId": "requestLength",
                                "label": "Request Length (bytes)"
                              },
                              {
                                "columnId": "responseLength",
                                "label": "Response Length (bytes)"
                              },
                              {
                                "columnId": "streamType",
                                "label": "Stream Type"
                              },
                              {
                                "columnId": "CallerIPAddress",
                                "label": "Caller IP Address"
                              },
                              {
                                "columnId": "apiVersion",
                                "label": "Api Version"
                              },
                              {
                                "columnId": "modelVersion",
                                "label": "Model Version"
                              },
                              {
                                "columnId": "objectId",
                                "label": "Object Id"
                              },
                              {
                                "columnId": "Location",
                                "label": "Location"
                              },
                              {
                                "columnId": "ResultSignature",
                                "label": "Status Code"
                              }
                            ]
                          },
                          "sortBy": [
                            {
                              "itemKey": "TimeGenerated",
                              "sortOrder": 2
                            }
                          ]
                        },
                        "name": "query - insights - All Logs"
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "insightsTab",
                    "comparison": "isEqualTo",
                    "value": "insights-AllLogs"
                  },
                  "name": "group - Insights - All Logs"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 1,
                        "content": {
                          "json": "### All failed requests\r\nAll failed *\"Request / Response\"* (Status Code: 404) operational logs, with the exclusion of administration logs.",
                          "style": "upsell"
                        },
                        "name": "text - Insights - Failures"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| extend streamType=properties.streamType\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"404\"\r\n    and apiVersion in ({apiVersionFailure})\r\n    and OperationName in ({OperationNameFailure})\r\n    and streamType in ({streamtypeFailure})\r\n    and location_s in ({locationFailure})\r\n| summarize count() by tostring(Resource)",
                          "size": 3,
                          "title": "Failed requests by Resource",
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "piechart",
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "25",
                        "name": "query - Failed requests by Resource"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| extend streamType=properties.streamType\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"404\"\r\n    and apiVersion in ({apiVersionFailure})\r\n    and OperationName in ({OperationNameFailure})\r\n    and streamType in ({streamtypeFailure})\r\n    and location_s in ({locationFailure})\r\n| summarize count() by tostring(apiVersion)",
                          "size": 3,
                          "title": "Failed requests by apiVersion",
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "piechart",
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "25",
                        "name": "query - Failed requests by apiVersion"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| extend streamType=properties.streamType\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"404\"\r\n    and apiVersion in ({apiVersionFailure})\r\n    and OperationName in ({OperationNameFailure})\r\n    and streamType in ({streamtypeFailure})\r\n    and location_s in ({locationFailure})\r\n| summarize count() by tostring(OperationName)",
                          "size": 3,
                          "title": "Failed requests by OperationName",
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "piechart",
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "25",
                        "name": "query - Failed requests by OperationName"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend streamType=properties.streamType,\r\n        apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| extend streamType=properties.streamType\r\n| where OperationName !has \"_List\"\r\n    and Resource in~ (split(\"{Resources:label}\", \", \"))\r\n    and ResultSignature == \"404\"\r\n    and apiVersion in ({apiVersionFailure})\r\n    and OperationName in ({OperationNameFailure})\r\n    and streamType in ({streamtypeFailure})\r\n    and location_s in ({locationFailure})\r\n| summarize count() by tostring(streamType)",
                          "size": 3,
                          "title": "Failed requests by streamType",
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "piechart",
                          "tileSettings": {
                            "showBorder": false,
                            "titleContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "count_",
                              "formatter": 12,
                              "formatOptions": {
                                "palette": "auto"
                              },
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "graphSettings": {
                            "type": 0,
                            "topContent": {
                              "columnMatch": "CallerIPAddress",
                              "formatter": 1
                            },
                            "centerContent": {
                              "columnMatch": "count_",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 17,
                                "options": {
                                  "maximumSignificantDigits": 3,
                                  "maximumFractionDigits": 2
                                }
                              }
                            }
                          },
                          "chartSettings": {
                            "xSettings": {
                              "numberFormatSettings": {
                                "unit": 0,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "25",
                        "name": "query - Failed requests by streamType"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\"\r\n| where Category == \"RequestResponse\"\r\n| extend properties = parse_json(properties_s)\r\n| extend streamType=properties.streamType\r\n| extend apiName=tostring(properties.apiName)\r\n| extend apiVersion = replace_string(apiName, 'Azure OpenAI API version ', '')\r\n| where OperationName !has \"_List\"\r\n| where Resource in~ (split(\"{Resources:label}\", \", \"))\r\n| where toint(ResultSignature) >= 400\r\n| where location_s in ({locationFailure})\r\n| where streamType in ({streamtypeFailure})\r\n| where OperationName in ({OperationNameFailure})\r\n| where apiVersion in ({apiVersionFailure})\r\n| project\r\n    TimeGenerated,\r\n    Resource,\r\n    OperationName,\r\n    DurationMs,\r\n    requestLength=properties.requestLength,\r\n    responseLength=properties.responseLength,    \r\n    streamType=properties.streamType,    \r\n    CallerIPAddress,\r\n    apiVersion,\r\n    Location=location_s,\r\n    ResultSignature\r\n    | sort by TimeGenerated desc",
                          "size": 3,
                          "showAnalytics": true,
                          "title": "Failed requests",
                          "timeContextFromParameter": "TimeRange",
                          "showRefreshButton": true,
                          "showExportToExcel": true,
                          "queryType": 0,
                          "resourceType": "microsoft.operationalinsights/workspaces",
                          "crossComponentResources": [
                            "{Workspace}"
                          ],
                          "visualization": "table",
                          "showExpandCollapseGrid": true,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "DurationMs",
                                "formatter": 1
                              },
                              {
                                "columnMatch": "Location",
                                "formatter": 17
                              }
                            ],
                            "rowLimit": 500,
                            "filter": true,
                            "sortBy": [
                              {
                                "itemKey": "TimeGenerated",
                                "sortOrder": 2
                              }
                            ],
                            "labelSettings": [
                              {
                                "columnId": "TimeGenerated",
                                "label": "Time Generated"
                              },
                              {
                                "columnId": "Resource",
                                "label": "Resource"
                              },
                              {
                                "columnId": "OperationName",
                                "label": "Operation Name"
                              },
                              {
                                "columnId": "DurationMs",
                                "label": "Duration (ms)"
                              },
                              {
                                "columnId": "requestLength",
                                "label": "Request Length (bytes)"
                              },
                              {
                                "columnId": "responseLength",
                                "label": "Response Length (bytes)"
                              },
                              {
                                "columnId": "streamType",
                                "label": "Stream Type"
                              },
                              {
                                "columnId": "CallerIPAddress",
                                "label": "Caller IP Address"
                              },
                              {
                                "columnId": "apiVersion",
                                "label": "Api Version"
                              },
                              {
                                "columnId": "Location",
                                "label": "Location"
                              },
                              {
                                "columnId": "ResultSignature",
                                "label": "Status Code"
                              }
                            ]
                          },
                          "sortBy": [
                            {
                              "itemKey": "TimeGenerated",
                              "sortOrder": 2
                            }
                          ]
                        },
                        "name": "query - insights - Failures"
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "insightsTab",
                    "comparison": "isEqualTo",
                    "value": "insights-Failures"
                  },
                  "name": "group - Insights - Failures"
                }
              ]
            },
            "conditionalVisibility": {
              "parameterName": "selectedTab",
              "comparison": "isEqualTo",
              "value": "Insights"
            },
            "name": "group - Insights"
          }
        ]
      },
      "conditionalVisibility": {
        "parameterName": "Subscription",
        "comparison": "isNotEqualTo",
        "value": ""
      },
      "name": "group - Azure OpenAI Service"
    }
  ],
  "fallbackResourceIds": [
    "Azure Monitor"
  ],
  "workbookPin": "storage account metrics",
  "styleSettings": {
    "paddingStyle": "narrow"
  },
  "fromTemplateId": "community-Workbooks/Storage/Overview",
  "$schema": "https://github.com/Microsoft/Application-Insights-Workbooks/blob/master/schema/workbook.json"
}